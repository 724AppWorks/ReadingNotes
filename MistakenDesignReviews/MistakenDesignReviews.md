
# はじめに
年次をまたぐに連れて、設計をする側だけでなく、レビュータスクも増えてきました。
しかし、自分が担当していないので、レビューに多くの時間がかかるうえ、見つけるのはtypoだけ。。。
なんてことが多いので、設計レビューのノウハウを学ぶために読んだ書籍から、Tipsを抜き出そうと思います。

# 第1章 レビューの間違い
## よくある間違ったレビュー
 - 誤字脱字や、ドキュメントの体裁など、「思い付き」の指摘
 - 指摘件数にノルマを課す
 - 設計者を責める
## レビューの目的は修正工数を減らすこと
 - 要件定義や設計段階での潜在的な問題を検出することが目的
 - 誤字脱字に対する指摘は、設計レビュー以降の段階でも修正工数に大差ない
 - 「重大な問題を取り除いた設計書」を作成することが設計レビューの主目的。完璧を目指してレビュー時間が跳ね上がるのは無駄
 - 無駄な指摘や、設計者を責めるようなレビューは、設計者のモチベを下げ、生産性に影響することを把握する

## 問題検出と問題指摘
 - 問題を検出する方法だけでなく、検出した問題を指摘する方法も同様に重要
 - 例えば「設計者を責める」ような問題指摘を行えば、設計者のモチベを下げたり、衝突を生んだりする

## 個人レビューのアンチパターン
### 人間関係の持ち込み
例として、不仲なエンジニアに対してイジワルな指摘をするなど。
対策としては、レビューの目的を明確に持ち、その方針から外れないこと。
目的は、重大な問題がないかや、ここで指摘をすることで、工数の低減に繋がるかなどがいいかなと思います。
### 作成者気分
例として、「ミスばかり目に付くな。。。全部指摘するより自分が作り直した方が早いわい」みたいな。
作り直しをメインにしてしまうと、問題検出が疎かになりがちです。（自分の作ったものってミス気づきにくいよね）
それに、自分で作ったら誰がレビューすんの　っていうお話も。
対策としては、レビューアは指摘の中でも、重大な問題をバシっと指摘に挙げるカッコよさを目指すべきです。
そして、本当に作り直しが必要であれば、設計者にその旨を指摘として伝えるか、打合せを設けるべきです。
### 二兎追い
レビューには色々な観点があります。すべての観点をもって一度にレビューを行うことは難しいです。
対策はその逆で、観点ごとにレビューを周回的に行うことです。
意外と観点ごとでまとめられた指摘の方が見やすかったり？時系列の方が見やすかったり？まあここは好みで。
### 時間切れ
レビュータスクというものは、あまり多くの時間をかけることができません。(主担当のタスクの合間にということもあるので)
そのため、時間が取れずにレビューが中途半端になってしまうこともあります。
対策は、観点、確認箇所、時間などから勘案して、
何にどのくらいまで時間をかける必要があるか、時間をかけられるかを見積もっておくことです。

## レビュー会議における段取りと仕切り
レビュー会議における、準備、進行、完了の3段階でのアンチパターン
### 無計画な耐久レース(準備)
レビュー会議は、予定の取りやすさから夕方以降に行われがちですが、
この夕方という時間帯は、メンバーの集中力が低くなっている時間帯でもあります。（朝から仕事してますので）
そうすると、レビューがグダグダと長引いてしまう上に、それが習慣化すると、レビュー会議に向かうモチベも低下します。
対策としては、レビューは日中に行うことが望ましく、
時間も最大で2時間程度に抑えるようにすると、メリハリがつくのではないでしょうか。
### ケンカ・脱線の放置(進行)
設計者、レビューアはそれぞれ別の人間なので、思想が異なることがあるのは当然で、対立が生まれることがあります。
レビュー会議で意見の言い合いが発生すると、レビューは当然長引きます。話が脱線しちゃうことも。
対策としては、言い合いが激しくなりそうだと判断したら止めること、お互いの意見を1つずつ聞いて、
落としどころを探すこと。
レビュー会議前に指摘をリスト化できていれば、その話をすることを目的に臨むことで、脱線の予防に繋がります。
また、レビュー会議への参加者を絞り込むことはとても重要です。
関係ない会議に出席させられた人は、工数がもったいないですし、脱線した話をしてしまうかも（頑張ってくれてる）
### 唐突な終了宣言(完了)
レビュー時間の超過や、指摘目的数を達成した場合にレビューを切り上げてしまうのはNGです。
指摘された問題に対して、関連する問題がないかをチェックしましょう。
また、指摘は上げるだけではなく、対応方針を決めたうえで、作業内容も決めるようにしましょう。

## レビューマインドのアンチパターン
### 見栄の張り合い
レビューアー同士で、「あの人が指摘挙げたから、自分も挙げなきゃ」みたいなよくわからない対抗意識を持つこと。
実際に重大な問題検出ができればいいですが、そういう時あがる指摘って大抵重箱の隅つつくようなやつですよね。
対策としては目的を忘れないこと。「重大な問題の検出」が済んでいれば無理に指摘をする必要なんてないんです。
技術自慢を長々としちゃうのも控えましょう。あとでドキュメント連携するねーとかにしましょう。
### 人格攻撃
「基本ができていない」とか、指摘と関係ないことを述べちゃうのはあまりよくないです。
発言を受けた人はモチベ下がっちゃいますし、会議であれば雰囲気悪いです。
そんなことを言ってる間に、次の指摘をびしっとする方が生産的です。
### 意図的な見逃し
様々な理由から指摘を意図的に見逃すことがあります。
 - レビュー時間がなくなってきたから足早に進めるため
 - 結果的に、設計者じゃなくて自分がやらされそうだからいいわ
 - 技術力のある方が書いてるから、省略してあるだけだわきっと

最後のやつ、難易度の高いレビューだとそうかも？と思った経験あります。。。
対策としてはもちろん、見逃さず指摘しましょう。品質を高める努力をするのです。

# 第2章 準備と問題検出
レビューにおける誤った考え方
 - レビュースキルは開発経験を積んだうえで、経験で養っていくもの
 - レビューで問題を見逃してしまうのは、レビューアのミス

このように、誤った考え方を持ったままだと、不具合が起こった際に「レビューを徹底」のような
よくわからん再発防止策を立てがち。
正しいレビュー手順を把握し、改善していく。

## レビュー技法
レビュー技法は大きく分けて2種類あります。
1つは「テクニカルレビュー」。技術リーダが主導するレビュー。一般的なレビューはこちら。  
もう1つは「ウォークスルー」。設計者が主導するレビュー。テクニカルレビューよりカジュアル。

## レビューのステップ
レビューには4つのステップがあります。
「準備」「問題検出」、「問題指摘」、「修正・フォロー」です。
これは、要件定義、基本設計、詳細設計といった工程ごとに1回ずつ実施します。
レビューを主導するリーダーと、設計者で行うべきことが異なります。
※簡略化した手順を実施することも。
### リーダーの準備
リーダーが行うべき準備は以下です。
 - 検出すべき問題種別の選定
 - 指針となるシナリオの作成
 - 簡易なレビューの実施検討
 - レビューアの選定と割り当て
 - ドキュメント配布と告知

#### 検出すべき問題種別の選定
レビューを行う前準備として、レビューで検出すべき問題を定義する必要があります。
ECサイトなどであれば、スループットの低下を検出するようなイメージです。
検出すべき問題を見つけるには、トップダウンとボトムアップでアプローチします。
ボトムアップでは、既存システムや、以前の指摘などを参考に、陥りがちな問題があるかを確認します。
ポイント：以前の指摘を整理しておかなければ、過去のたくさんの指摘なんて洗ってられないぞ。
また、設計者の間違いやすい「クセ」なんかもわかってくれば、こっそり観点に含めてあげるのも優しさですね。
トップダウンでは、システムが持つべき本来の「価値」に従い、検出しなくてはならない問題を定義します。
トップダウン、ボトムアップ合わせて、問題種別は15個までくらいにしましょう。
あんまり多いと観点がぼやけ、かえって品質低下につながります。

#### 指針となるシナリオの作成
問題種別を検出するために、ドキュメントのどこをどのように調べるのかを具体的に記述したシナリオを準備します。
毎回っていうものではなさそうですね。普通は都度作ってるヒマないと思います。
ただ、選定した問題に対して、どこを重点的にチェックするかは明確である必要があり、
何をもってチェックするのか、たとえばインターフェース定義書などと照らし合わせるとかは、見えてくると思います。
無作為にチェックするより、メリハリもつくので、こちらの方が効率的だと思います。

#### 簡易なレビューの実施検討
複数のメンバが同時に作業を行う場合、似たような指摘がメンバ毎に上がってしまうことはよくあると思います。
早いうちに簡易レビューみたいなチェックポイントを設けることで、互いの認識合わせができ、方針のブレが少なくなります。
このレビューは、ウォークスルーのような自由度の高いレビューでよいと思います。
1つ注意。簡易レビューしたからそこはもう見なくていいよねみたいなのはNGです。
成果物レビューは成果物レビュー。別物だと心得ましょう。

#### レビューアの選定と割り当て
候補者のピックアップも大事な仕事です。必要なメンバ5人程度に絞りましょう。
それぞれのメンバに、指針となるシナリオを割り当てることで、多方面から似たような別文言の指摘が飛び交うようなことを封じ、
問題検出漏れの予防にも繋がります。

#### ドキュメント配布と告知
ドキュメントの配布には、構成管理システムを利用するとよいです。通知飛ぶので。締め切り過ぎたかどうかも分かるので。



# おわりに

以上です。お疲れ様でしたー。
   
# 書籍
[なぜ重大な問題を見逃すのか？間違いだらけの設計レビュー](https://www.amazon.co.jp/dp/B01683BFJM/)